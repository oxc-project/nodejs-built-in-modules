use nodejs_built_in_modules::{
    BUILTINS, BUILTINS_WITH_MANDATORY_NODE_PREFIX, is_nodejs_builtin_module,
};

#[test]
fn test_alphabetization() {
    assert!(BUILTINS.is_sorted());
    assert!(BUILTINS_WITH_MANDATORY_NODE_PREFIX.is_sorted());
}

#[test]
fn pass() {
    let pass = [
        "_http_agent",
        "_http_client",
        "_http_common",
        "_http_incoming",
        "_http_outgoing",
        "_http_server",
        "_stream_duplex",
        "_stream_passthrough",
        "_stream_readable",
        "_stream_transform",
        "_stream_wrap",
        "_stream_writable",
        "_tls_common",
        "_tls_wrap",
        "assert",
        "assert/strict",
        "async_hooks",
        "buffer",
        "child_process",
        "cluster",
        "console",
        "constants",
        "crypto",
        "dgram",
        "diagnostics_channel",
        "dns",
        "dns/promises",
        "domain",
        "events",
        "fs",
        "fs/promises",
        "http",
        "http2",
        "https",
        "inspector",
        "inspector/promises",
        "module",
        "net",
        "os",
        "path",
        "path/posix",
        "path/win32",
        "perf_hooks",
        "process",
        "punycode",
        "querystring",
        "readline",
        "readline/promises",
        "repl",
        "stream",
        "stream/consumers",
        "stream/promises",
        "stream/web",
        "string_decoder",
        "sys",
        "timers",
        "timers/promises",
        "tls",
        "trace_events",
        "tty",
        "url",
        "util",
        "util/types",
        "v8",
        "vm",
        "wasi",
        "worker_threads",
        "zlib",
        "node:_http_agent",
        "node:_http_client",
        "node:_http_common",
        "node:_http_incoming",
        "node:_http_outgoing",
        "node:_http_server",
        "node:_stream_duplex",
        "node:_stream_passthrough",
        "node:_stream_readable",
        "node:_stream_transform",
        "node:_stream_wrap",
        "node:_stream_writable",
        "node:_tls_common",
        "node:_tls_wrap",
        "node:assert",
        "node:assert/strict",
        "node:async_hooks",
        "node:buffer",
        "node:child_process",
        "node:cluster",
        "node:console",
        "node:constants",
        "node:crypto",
        "node:dgram",
        "node:diagnostics_channel",
        "node:dns",
        "node:dns/promises",
        "node:domain",
        "node:events",
        "node:fs",
        "node:fs/promises",
        "node:http",
        "node:http2",
        "node:https",
        "node:inspector",
        "node:inspector/promises",
        "node:module",
        "node:net",
        "node:os",
        "node:path",
        "node:path/posix",
        "node:path/win32",
        "node:perf_hooks",
        "node:process",
        "node:punycode",
        "node:querystring",
        "node:readline",
        "node:readline/promises",
        "node:repl",
        "node:stream",
        "node:stream/consumers",
        "node:stream/promises",
        "node:stream/web",
        "node:string_decoder",
        "node:sys",
        "node:timers",
        "node:timers/promises",
        "node:tls",
        "node:trace_events",
        "node:tty",
        "node:url",
        "node:util",
        "node:util/types",
        "node:v8",
        "node:vm",
        "node:wasi",
        "node:worker_threads",
        "node:zlib",
        "node:sea",
        "node:sqlite",
        "node:test",
        "node:test/reporters",
    ];

    for specifier in pass {
        assert!(is_nodejs_builtin_module(specifier));
    }
}

#[test]
fn fail() {
    let fail = ["sea", "sqlite", "test", "test/reporters"];

    for specifier in fail {
        assert!(!is_nodejs_builtin_module(specifier));
    }
}
